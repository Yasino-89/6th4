<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุญุฉ ุชุณุฌูู ุงูููุงุท - ุณุงุฏุณ 4</title>
    <style>
        /* [ููุณ ุงูุชูุณูู ุงูููุฌูุฏ ุณุงุจูุงู ุจุฏูู ุชุนุฏูู] */
        /* ... */
    </style>
</head>
<body>

    <div class="container">
        <h1>ููุญุฉ ุชุณุฌูู ุงูููุงุท - ุณุงุฏุณ 4</h1>
        <div class="team-grid" id="team-stats"></div>
        <button class="reset-btn" onclick="resetAllScores()">๐ ุฅุนุงุฏุฉ ุชุนููู ุฌููุน ุงูููุงุท</button>
    </div>

    <script>
        const teams = [
            { name: "ุฑูุงู ูุฏุฑูุฏ", image: "images/real_madrid.png", link: "real_madrid.html" },
            { name: "ูููุฑุจูู", image: "images/liverpool.png", link: "liverpool.html" },
            { name: "ุงูููุงู", image: "images/alhilal.png", link: "al-helal.html" }
        ];

        const abilities = ["ููุงุฌู", "ุฌูุงุญ", "ูุณุท", "ูุฏุงูุน", "ุญุงุฑุณ"];

        function updateTeamStats() {
            const statsContainer = document.getElementById("team-stats");
            statsContainer.innerHTML = "";

            teams.forEach(team => {
                let score = JSON.parse(localStorage.getItem(team.name + "_score_s6_4")) || 0;
                let goalsFor = JSON.parse(localStorage.getItem(team.name + "_goalsFor_s6_4")) || 0;
                let goalsAgainst = JSON.parse(localStorage.getItem(team.name + "_goalsAgainst_s6_4")) || 0;
                let saves = JSON.parse(localStorage.getItem(team.name + "_saves_s6_4")) || 0;
                let shots = JSON.parse(localStorage.getItem(team.name + "_shots_s6_4")) || 0;

                let teamDiv = document.createElement("div");
                teamDiv.className = "team-box";
                teamDiv.innerHTML = `
                    <img src="${team.image}" alt="ุดุนุงุฑ ${team.name}" onload="this.style.opacity='1'">
                    <div class="team-name">
                        ${team.name}
                        <span class="team-score" id="${team.name}_score_s6_4">${score}</span>
                    </div>
                    <div class="shots-container">
                        ๐ฏ ุงูุชุณุฏูุฏุงุช ุงููุชุงุญุฉ: <strong id="${team.name}_shots_s6_4">${shots}</strong>
                    </div>
                    <table class="stats-table">
                        <tr>
                            <th>โฝ ุงูุฃูุฏุงู ุงููุณุฌูุฉ</th>
                            <td id="${team.name}_goalsFor_s6_4">${goalsFor}</td>
                            <th>๐ฅ ุงูุฃูุฏุงู ุงููุณุชูุจูุฉ</th>
                            <td id="${team.name}_goalsAgainst_s6_4">${goalsAgainst}</td>
                            <th>๐งค ุงูุชุตุฏูุงุช</th>
                            <td id="${team.name}_saves_s6_4">${saves}</td>
                        </tr>
                    </table>
                    <div class="btn-container">
                        <button class="btn add-btn" onclick="modifyStat('${team.name}', '_goalsFor_s6_4', 1, 2)">+ ูุฏู</button>
                        <button class="btn remove-btn" onclick="modifyStat('${team.name}', '_goalsFor_s6_4', -1, -2)">- ูุฏู</button>
                    </div>
                    <div class="btn-container">
                        <button class="btn add-btn" onclick="modifyStat('${team.name}', '_goalsAgainst_s6_4', 1, -1)">+ ูุฏู ุนููู</button>
                        <button class="btn remove-btn" onclick="modifyStat('${team.name}', '_goalsAgainst_s6_4', -1, 1)">- ูุฏู ุนููู</button>
                    </div>
                    <div class="btn-container">
                        <button class="btn add-btn" onclick="modifyStat('${team.name}', '_saves_s6_4', 1, 1)">+ ุชุตุฏู</button>
                        <button class="btn remove-btn" onclick="modifyStat('${team.name}', '_saves_s6_4', -1, -1)">- ุชุตุฏู</button>
                    </div>
                    <div class="btn-container">
                        <button class="btn add-btn" onclick="modifyStat('${team.name}', '_shots_s6_4', 1, 0)">+ ุชุณุฏูุฏุฉ</button>
                        <button class="btn remove-btn" onclick="modifyStat('${team.name}', '_shots_s6_4', -1, 0)">- ุชุณุฏูุฏุฉ</button>
                    </div>
                    <h3>๐ก ุงููุฏุฑุงุช ุงูุฎุงุตุฉ</h3>
                    <button class="btn add-btn" id="${team.name}_shot3_s6_7" onclick="toggleAbility('${team.name}', 'shot3')">โก ุชุณุฏูุฏุฉ ุจู3 ุฃูุฏุงู</button>
                    <button class="btn add-btn" id="${team.name}_save2_s6_7" onclick="toggleAbility('${team.name}', 'save2')">๐งค ุชุตุฏู ุจู2</button>
                    <h3>๐ ุงููุฏุฑุฉ ุงููุถุงุนูุฉ</h3>
                    ${abilities.map(ability => `
                        <button class="btn add-btn" id="${team.name}_${ability}_s6_7" onclick="toggleAbility('${team.name}', '${ability}')">
                            ${ability}
                        </button>
                    `).join("")}
                    <a href="${team.link}"><button class="team-btn">๐ ุนุฑุถ ุตูุญุฉ ุงููุฑูู</button></a>
                `;
                statsContainer.appendChild(teamDiv);
                updateAbilityButtons(team.name);
            });
        }

        function toggleAbility(team, ability) {
            const key = team + "_" + ability + "_s6_7";
            let status = JSON.parse(localStorage.getItem(key)) || false;
            status = !status;
            localStorage.setItem(key, JSON.stringify(status));
            updateAbilityButtons(team);
        }

        function updateAbilityButtons(team) {
            ["shot3", "save2", ...abilities].forEach(ability => {
                let button = document.getElementById(`${team}_${ability}_s6_7`);
                if (button) {
                    let status = JSON.parse(localStorage.getItem(team + "_" + ability + "_s6_7")) || false;
                    button.classList.toggle("active", status);
                }
            });
        }

        function modifyStat(team, stat, amount, scoreChange) {
            let value = JSON.parse(localStorage.getItem(team + stat)) || 0;
            value = Math.max(0, value + amount);
            localStorage.setItem(team + stat, JSON.stringify(value));
            const element = document.getElementById(`${team}${stat}`);
            if (element) {
                element.innerText = value;
                element.classList.add('score-change');
                setTimeout(() => element.classList.remove('score-change'), 500);
            }
            if (scoreChange !== 0) {
                let score = JSON.parse(localStorage.getItem(team + "_score_s6_4")) || 0;
                score += scoreChange;
                localStorage.setItem(team + "_score_s6_4", JSON.stringify(score));
                const scoreElement = document.getElementById(`${team}_score_s6_4`);
                if (scoreElement) {
                    scoreElement.innerText = score;
                    scoreElement.classList.add('score-change');
                    setTimeout(() => scoreElement.classList.remove('score-change'), 500);
                    scoreElement.style.color = scoreChange > 0 ? '#28a745' : '#dc3545';
                    setTimeout(() => scoreElement.style.color = '#007BFF', 1000);
                }
            }
        }

        function resetAllScores() {
            if (!confirm('ูู ุฃูุช ูุชุฃูุฏ ูู ุฃูู ุชุฑูุฏ ุฅุนุงุฏุฉ ุชุนููู ุฌููุน ุงูููุงุท ูุงูุฅุญุตุงุฆูุงุชุ')) return;
            const resetBtn = document.querySelector('.reset-btn');
            resetBtn.classList.add('active');
            setTimeout(() => resetBtn.classList.remove('active'), 200);
            teams.forEach(team => {
                ["_score_s6_4", "_goalsFor_s6_4", "_goalsAgainst_s6_4", "_saves_s6_4", "_shots_s6_4"].forEach(stat => {
                    localStorage.setItem(team.name + stat, JSON.stringify(0));
                });
                ["shot3", "save2", ...abilities].forEach(ability => {
                    localStorage.setItem(team.name + "_" + ability + "_s6_7", JSON.stringify(false));
                });
            });
            setTimeout(() => {
                updateTeamStats();
                alert('ุชู ุฅุนุงุฏุฉ ุชุนููู ุฌููุน ุงูููุงุท ูุงูุฅุญุตุงุฆูุงุช ุจูุฌุงุญ!');
            }, 500);
        }

        document.body.style.opacity = '0';
        setTimeout(() => {
            document.body.style.transition = 'opacity 0.5s ease';
            document.body.style.opacity = '1';
        }, 100);

        updateTeamStats();
    </script>

</body>
</html>
